<section class="container d-flex align-items-center justify-content-center">
  <div class="row mt-4">
    <div class="text-center my-2">
      <h2>Envio de un email sencillo</h2>
    </div>
    <div class="col border border-dark py-4 px-4 rounded shadow-sm" style="--bs-border-opacity: .25;">
      <form class="" (ngSubmit)="send()" [formGroup]="simpleEmailForm">

        <div class="row mb-3">
          <label for="to" class="col-sm-3 col-form-label-lg">Destinatario:</label>
          <div class="col-sm-9">
            <input class="form-control" [ngClass]="isFormControlValid('to') ? 'is-invalid' : ''" type="email" name="to"
              id="to" formControlName="to">
            <div *ngFor="let validation of simpleEmailValidationMessages.to" class="invalid-feedback">
              <span
                *ngIf="simpleEmailForm.get('to')?.hasError(validation.type) && (simpleEmailForm.get('to')?.dirty || simpleEmailForm.get('to')?.touched)"
                class="">{{validation.message}}</span>
            </div>
          </div>
        </div>



        <div class="row mb-3">
          <label for="asunto" class="col-sm-3 col-form-label-lg">Asunto:</label>
          <div class="col-sm-9">
            <input class="form-control" [ngClass]="isFormControlValid('subject') ? 'is-invalid' : ''" type="text"
              name="asunto" id="asunto" formControlName="subject">
            <div *ngFor="let validation of simpleEmailValidationMessages.subject" class="invalid-feedback">
              <span
                *ngIf="simpleEmailForm.get('subject')?.hasError(validation.type) && (simpleEmailForm.get('subject')?.dirty || simpleEmailForm.get('subject')?.touched)"
                class="">{{validation.message}}</span>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <label for="texto" class="col-sm-3 col-form-label-lg">Texto:</label>
          <div class="col-sm-9">
            <textarea class="form-control" [ngClass]="isFormControlValid('body') ? 'is-invalid' : ''" name="texto"
              id="texto" cols="30" rows="10" formControlName="body"></textarea>
            <div *ngFor="let validation of simpleEmailValidationMessages.body" class="invalid-feedback">
              <span
                *ngIf="simpleEmailForm.get('body')?.hasError(validation.type) && (simpleEmailForm.get('body')?.dirty || simpleEmailForm.get('body')?.touched)"
                class="">{{validation.message}}</span>
            </div>
          </div>
        </div>

        <div class="row d-flex justify-content-center">
          <button class="col-4 btn btn-dark" [ngClass]="isSending ? 'disabled' : ''" type="submit">Enviar correo</button>
        </div>
      </form>
    </div>
  </div>
  <app-toast #toast ></app-toast>
</section>
